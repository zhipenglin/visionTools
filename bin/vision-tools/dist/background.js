!function(e){function o(s){if(r[s])return r[s].exports;var t=r[s]={i:s,l:!1,exports:{}};return e[s].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var r={};o.m=e,o.c=r,o.i=function(e){return e},o.d=function(e,r,s){o.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:s})},o.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(r,"a",r),r},o.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},o.p="",o(o.s="./background.js")}({"../node_modules/babel-runtime/core-js/get-iterator.js":function(e,o,r){e.exports={default:r("../node_modules/core-js/library/fn/get-iterator.js"),__esModule:!0}},"../node_modules/babel-runtime/core-js/object/assign.js":function(e,o,r){e.exports={default:r("../node_modules/core-js/library/fn/object/assign.js"),__esModule:!0}},"../node_modules/core-js/library/fn/get-iterator.js":function(e,o,r){r("../node_modules/core-js/library/modules/web.dom.iterable.js"),r("../node_modules/core-js/library/modules/es6.string.iterator.js"),e.exports=r("../node_modules/core-js/library/modules/core.get-iterator.js")},"../node_modules/core-js/library/fn/object/assign.js":function(e,o,r){r("../node_modules/core-js/library/modules/es6.object.assign.js"),e.exports=r("../node_modules/core-js/library/modules/$.core.js").Object.assign},"../node_modules/core-js/library/modules/$.a-function.js":function(e,o){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"../node_modules/core-js/library/modules/$.add-to-unscopables.js":function(e,o){e.exports=function(){}},"../node_modules/core-js/library/modules/$.an-object.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.is-object.js");e.exports=function(e){if(!s(e))throw TypeError(e+" is not an object!");return e}},"../node_modules/core-js/library/modules/$.classof.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.cof.js"),t=r("../node_modules/core-js/library/modules/$.wks.js")("toStringTag"),n="Arguments"==s(function(){return arguments}());e.exports=function(e){var o,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(o=Object(e))[t])?r:n?s(o):"Object"==(i=s(o))&&"function"==typeof o.callee?"Arguments":i}},"../node_modules/core-js/library/modules/$.cof.js":function(e,o){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},"../node_modules/core-js/library/modules/$.core.js":function(e,o){var r=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=r)},"../node_modules/core-js/library/modules/$.ctx.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.a-function.js");e.exports=function(e,o,r){if(s(e),void 0===o)return e;switch(r){case 1:return function(r){return e.call(o,r)};case 2:return function(r,s){return e.call(o,r,s)};case 3:return function(r,s,t){return e.call(o,r,s,t)}}return function(){return e.apply(o,arguments)}}},"../node_modules/core-js/library/modules/$.defined.js":function(e,o){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"../node_modules/core-js/library/modules/$.descriptors.js":function(e,o,r){e.exports=!r("../node_modules/core-js/library/modules/$.fails.js")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"../node_modules/core-js/library/modules/$.export.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.global.js"),t=r("../node_modules/core-js/library/modules/$.core.js"),n=r("../node_modules/core-js/library/modules/$.ctx.js"),i=function(e,o,r){var l,u,d,c=e&i.F,a=e&i.G,m=e&i.S,j=e&i.P,f=e&i.B,y=e&i.W,b=a?t:t[o]||(t[o]={}),_=a?s:m?s[o]:(s[o]||{}).prototype;a&&(r=o);for(l in r)(u=!c&&_&&l in _)&&l in b||(d=u?_[l]:r[l],b[l]=a&&"function"!=typeof _[l]?r[l]:f&&u?n(d,s):y&&_[l]==d?function(e){var o=function(o){return this instanceof e?new e(o):e(o)};return o.prototype=e.prototype,o}(d):j&&"function"==typeof d?n(Function.call,d):d,j&&((b.prototype||(b.prototype={}))[l]=d))};i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,e.exports=i},"../node_modules/core-js/library/modules/$.fails.js":function(e,o){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"../node_modules/core-js/library/modules/$.global.js":function(e,o){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},"../node_modules/core-js/library/modules/$.has.js":function(e,o){var r={}.hasOwnProperty;e.exports=function(e,o){return r.call(e,o)}},"../node_modules/core-js/library/modules/$.hide.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.js"),t=r("../node_modules/core-js/library/modules/$.property-desc.js");e.exports=r("../node_modules/core-js/library/modules/$.descriptors.js")?function(e,o,r){return s.setDesc(e,o,t(1,r))}:function(e,o,r){return e[o]=r,e}},"../node_modules/core-js/library/modules/$.iobject.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==s(e)?e.split(""):Object(e)}},"../node_modules/core-js/library/modules/$.is-object.js":function(e,o){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"../node_modules/core-js/library/modules/$.iter-create.js":function(e,o,r){"use strict";var s=r("../node_modules/core-js/library/modules/$.js"),t=r("../node_modules/core-js/library/modules/$.property-desc.js"),n=r("../node_modules/core-js/library/modules/$.set-to-string-tag.js"),i={};r("../node_modules/core-js/library/modules/$.hide.js")(i,r("../node_modules/core-js/library/modules/$.wks.js")("iterator"),function(){return this}),e.exports=function(e,o,r){e.prototype=s.create(i,{next:t(1,r)}),n(e,o+" Iterator")}},"../node_modules/core-js/library/modules/$.iter-define.js":function(e,o,r){"use strict";var s=r("../node_modules/core-js/library/modules/$.library.js"),t=r("../node_modules/core-js/library/modules/$.export.js"),n=r("../node_modules/core-js/library/modules/$.redefine.js"),i=r("../node_modules/core-js/library/modules/$.hide.js"),l=r("../node_modules/core-js/library/modules/$.has.js"),u=r("../node_modules/core-js/library/modules/$.iterators.js"),d=r("../node_modules/core-js/library/modules/$.iter-create.js"),c=r("../node_modules/core-js/library/modules/$.set-to-string-tag.js"),a=r("../node_modules/core-js/library/modules/$.js").getProto,m=r("../node_modules/core-js/library/modules/$.wks.js")("iterator"),j=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,o,r,y,b,_,p){d(r,o,y);var g,$,v=function(e){if(!j&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},h=o+" Iterator",x="values"==b,w=!1,k=e.prototype,S=k[m]||k["@@iterator"]||b&&k[b],O=S||v(b);if(S){var I=a(O.call(new e));c(I,h,!0),!s&&l(k,"@@iterator")&&i(I,m,f),x&&"values"!==S.name&&(w=!0,O=function(){return S.call(this)})}if(s&&!p||!j&&!w&&k[m]||i(k,m,O),u[o]=O,u[h]=f,b)if(g={values:x?O:v("values"),keys:_?O:v("keys"),entries:x?v("entries"):O},p)for($ in g)$ in k||n(k,$,g[$]);else t(t.P+t.F*(j||w),o,g);return g}},"../node_modules/core-js/library/modules/$.iter-step.js":function(e,o){e.exports=function(e,o){return{value:o,done:!!e}}},"../node_modules/core-js/library/modules/$.iterators.js":function(e,o){e.exports={}},"../node_modules/core-js/library/modules/$.js":function(e,o){var r=Object;e.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},"../node_modules/core-js/library/modules/$.library.js":function(e,o){e.exports=!0},"../node_modules/core-js/library/modules/$.object-assign.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.js"),t=r("../node_modules/core-js/library/modules/$.to-object.js"),n=r("../node_modules/core-js/library/modules/$.iobject.js");e.exports=r("../node_modules/core-js/library/modules/$.fails.js")(function(){var e=Object.assign,o={},r={},s=Symbol(),t="abcdefghijklmnopqrst";return o[s]=7,t.split("").forEach(function(e){r[e]=e}),7!=e({},o)[s]||Object.keys(e({},r)).join("")!=t})?function(e,o){for(var r=t(e),i=arguments,l=i.length,u=1,d=s.getKeys,c=s.getSymbols,a=s.isEnum;l>u;)for(var m,j=n(i[u++]),f=c?d(j).concat(c(j)):d(j),y=f.length,b=0;y>b;)a.call(j,m=f[b++])&&(r[m]=j[m]);return r}:Object.assign},"../node_modules/core-js/library/modules/$.property-desc.js":function(e,o){e.exports=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}}},"../node_modules/core-js/library/modules/$.redefine.js":function(e,o,r){e.exports=r("../node_modules/core-js/library/modules/$.hide.js")},"../node_modules/core-js/library/modules/$.set-to-string-tag.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.js").setDesc,t=r("../node_modules/core-js/library/modules/$.has.js"),n=r("../node_modules/core-js/library/modules/$.wks.js")("toStringTag");e.exports=function(e,o,r){e&&!t(e=r?e:e.prototype,n)&&s(e,n,{configurable:!0,value:o})}},"../node_modules/core-js/library/modules/$.shared.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.global.js"),t=s["__core-js_shared__"]||(s["__core-js_shared__"]={});e.exports=function(e){return t[e]||(t[e]={})}},"../node_modules/core-js/library/modules/$.string-at.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.to-integer.js"),t=r("../node_modules/core-js/library/modules/$.defined.js");e.exports=function(e){return function(o,r){var n,i,l=String(t(o)),u=s(r),d=l.length;return u<0||u>=d?e?"":void 0:(n=l.charCodeAt(u),n<55296||n>56319||u+1===d||(i=l.charCodeAt(u+1))<56320||i>57343?e?l.charAt(u):n:e?l.slice(u,u+2):i-56320+(n-55296<<10)+65536)}}},"../node_modules/core-js/library/modules/$.to-integer.js":function(e,o){var r=Math.ceil,s=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?s:r)(e)}},"../node_modules/core-js/library/modules/$.to-iobject.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.iobject.js"),t=r("../node_modules/core-js/library/modules/$.defined.js");e.exports=function(e){return s(t(e))}},"../node_modules/core-js/library/modules/$.to-object.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.defined.js");e.exports=function(e){return Object(s(e))}},"../node_modules/core-js/library/modules/$.uid.js":function(e,o){var r=0,s=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+s).toString(36))}},"../node_modules/core-js/library/modules/$.wks.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.shared.js")("wks"),t=r("../node_modules/core-js/library/modules/$.uid.js"),n=r("../node_modules/core-js/library/modules/$.global.js").Symbol;e.exports=function(e){return s[e]||(s[e]=n&&n[e]||(n||t)("Symbol."+e))}},"../node_modules/core-js/library/modules/core.get-iterator-method.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.classof.js"),t=r("../node_modules/core-js/library/modules/$.wks.js")("iterator"),n=r("../node_modules/core-js/library/modules/$.iterators.js");e.exports=r("../node_modules/core-js/library/modules/$.core.js").getIteratorMethod=function(e){if(void 0!=e)return e[t]||e["@@iterator"]||n[s(e)]}},"../node_modules/core-js/library/modules/core.get-iterator.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.an-object.js"),t=r("../node_modules/core-js/library/modules/core.get-iterator-method.js");e.exports=r("../node_modules/core-js/library/modules/$.core.js").getIterator=function(e){var o=t(e);if("function"!=typeof o)throw TypeError(e+" is not iterable!");return s(o.call(e))}},"../node_modules/core-js/library/modules/es6.array.iterator.js":function(e,o,r){"use strict";var s=r("../node_modules/core-js/library/modules/$.add-to-unscopables.js"),t=r("../node_modules/core-js/library/modules/$.iter-step.js"),n=r("../node_modules/core-js/library/modules/$.iterators.js"),i=r("../node_modules/core-js/library/modules/$.to-iobject.js");e.exports=r("../node_modules/core-js/library/modules/$.iter-define.js")(Array,"Array",function(e,o){this._t=i(e),this._i=0,this._k=o},function(){var e=this._t,o=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,t(1)):"keys"==o?t(0,r):"values"==o?t(0,e[r]):t(0,[r,e[r]])},"values"),n.Arguments=n.Array,s("keys"),s("values"),s("entries")},"../node_modules/core-js/library/modules/es6.object.assign.js":function(e,o,r){var s=r("../node_modules/core-js/library/modules/$.export.js");s(s.S+s.F,"Object",{assign:r("../node_modules/core-js/library/modules/$.object-assign.js")})},"../node_modules/core-js/library/modules/es6.string.iterator.js":function(e,o,r){"use strict";var s=r("../node_modules/core-js/library/modules/$.string-at.js")(!0);r("../node_modules/core-js/library/modules/$.iter-define.js")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,o=this._t,r=this._i;return r>=o.length?{value:void 0,done:!0}:(e=s(o,r),this._i+=e.length,{value:e,done:!1})})},"../node_modules/core-js/library/modules/web.dom.iterable.js":function(e,o,r){r("../node_modules/core-js/library/modules/es6.array.iterator.js");var s=r("../node_modules/core-js/library/modules/$.iterators.js");s.NodeList=s.HTMLCollection=s.Array},"./background.js":function(e,o,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function t(e,o,r){function s(e){e.postMessage({name:o.name,message:o.message})}if("vision_tools_popup"===e)s(m[e].connect);else if("vision_tools_content"===e)if(r)m[e][r]&&s(m[e][r].connect);else{var t=!0,n=!1,i=void 0;try{for(var l,d=(0,u.default)(m[e]);!(t=(l=d.next()).done);t=!0){var c=l.value;s(c.connect)}}catch(e){n=!0,i=e}finally{try{!t&&d.return&&d.return()}finally{if(n)throw i}}}}var n=r("../node_modules/babel-runtime/core-js/object/assign.js"),i=s(n),l=r("../node_modules/babel-runtime/core-js/get-iterator.js"),u=s(l),d=r("./utils/setBrowserActionIcon.js"),c=s(d),a=[],m={vision_tools_popup:{connect:null},vision_tools_content:{}};chrome.extension.onConnect.addListener(function(e){function o(o,r){e.postMessage({name:o,message:r})}function r(o){e.onMessage.addListener(function(e){o[e.name]&&o[e.name](e.message)})}if("vision_tools_popup"==e.name)m[e.name].connect=e,r({getInfo:function(){chrome.tabs.getSelected(null,function(e){var r=m.vision_tools_content[e.id],s={imgList:a};r&&r.img&&(s.activeKey=a.indexOf(r.img),s.locked=r.locked,s.scale=r.scale,s.opacity=r.opacity),o("getInfo",s)})},setInfo:function(e){a=e.imgList;var o=a[e.activeKey];chrome.tabs.getSelected(null,function(r){t("vision_tools_content",{name:"setImg",message:o},r.id),t("vision_tools_content",{name:"setImgStyle",message:{locked:e.locked,scale:e.scale,opacity:e.opacity}},r.id);var s=m.vision_tools_content[r.id];s&&(0,i.default)(s,{img:o,locked:e.locked,scale:e.scale,opacity:e.opacity})})}});else if("vision_tools_content"==e.name){var s=e.sender.tab.id;m[e.name][s]||(m[e.name][s]={});var n=m[e.name][s];n.connect=e,r({getInfo:function(){n.img&&(o("setImg",n.img),o("setImgStyle",{locked:n.locked,scale:n.scale,opacity:n.opacity,translate:n.translate}))},setImgStyle:function(e){(0,i.default)(n,{locked:e.locked,scale:e.scale,opacity:e.opacity,translate:e.translate})}})}}),chrome.tabs.onSelectionChanged.addListener(function(e){(0,c.default)(m.vision_tools_content[e]&&m.vision_tools_content[e].img)})},"./utils/setBrowserActionIcon.js":function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e){chrome.browserAction.setIcon({path:e?{16:"../icons/16.png",48:"../icons/48.png",128:"../icons/128.png"}:{16:"../icons/16-gray.png",48:"../icons/48-gray.png",128:"../icons/128-gray.png"}})}}});
//# sourceMappingURL=background.js.map